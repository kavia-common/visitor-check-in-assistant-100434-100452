{"is_source_file": true, "format": "Python (SQLAlchemy ORM models)", "description": "This file defines ORM models for the Visitor Management System, including entities such as Visitor, VisitLog, Host, and AdminUser. It establishes database table schemas, relationships, and key attributes relevant to managing visitor check-ins, hosts, and system administrators.", "external_files": ["sqlalchemy", "sqlalchemy.orm"], "external_methods": ["func.now()"], "published": ["Visitor", "Host", "VisitLog", "AdminUser"], "classes": [{"name": "Visitor", "description": "Represents a visitor with personal details and related visit logs."}, {"name": "Host", "description": "Represents the hosting entity (employee or visitor being hosted) with related visit logs."}, {"name": "VisitLog", "description": "Logs check-in and check-out events for visitors, linking visitors and hosts."}, {"name": "AdminUser", "description": "Represents administrative users with credentials and status for system management."}], "methods": [], "calls": ["func.now()", "relationship", "Column", "ForeignKey"], "search-terms": ["SQLAlchemy ORM", "Visitor", "VisitLog", "Host", "AdminUser", "visitor_id", "check_in_time", "visit_logs", "relationship", "declarative_base"], "state": 2, "file_id": 5, "knowledge_revision": 11, "git_revision": "", "ctags": [{"_type": "tag", "name": "AdminUser", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^class AdminUser(Base):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Base", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^Base = declarative_base()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "Host", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^class Host(Base):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "VisitLog", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^class VisitLog(Base):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Visitor", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^class Visitor(Base):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^    __tablename__ = \"admin_users\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "AdminUser", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^    __tablename__ = \"hosts\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "Host", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^    __tablename__ = \"visit_logs\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "VisitLog", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^    __tablename__ = \"visitors\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "Visitor", "scopeKind": "class"}, {"_type": "tag", "name": "check_in_time", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^    check_in_time = Column(DateTime(timezone=True), server_default=func.now())$/", "language": "Python", "kind": "variable", "scope": "VisitLog", "scopeKind": "class"}, {"_type": "tag", "name": "check_out_time", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^    check_out_time = Column(DateTime(timezone=True), nullable=True)$/", "language": "Python", "kind": "variable", "scope": "VisitLog", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^    created_at = Column(DateTime(timezone=True), server_default=func.now())$/", "language": "Python", "kind": "variable", "scope": "AdminUser", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^    created_at = Column(DateTime(timezone=True), server_default=func.now())$/", "language": "Python", "kind": "variable", "scope": "Visitor", "scopeKind": "class"}, {"_type": "tag", "name": "department", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^    department = Column(String, nullable=True)$/", "language": "Python", "kind": "variable", "scope": "Host", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^    email = Column(String, nullable=False, unique=True, index=True)$/", "language": "Python", "kind": "variable", "scope": "Host", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^    email = Column(String, nullable=True, index=True)$/", "language": "Python", "kind": "variable", "scope": "Visitor", "scopeKind": "class"}, {"_type": "tag", "name": "full_name", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^    full_name = Column(String, nullable=False)$/", "language": "Python", "kind": "variable", "scope": "Host", "scopeKind": "class"}, {"_type": "tag", "name": "full_name", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^    full_name = Column(String, nullable=False)$/", "language": "Python", "kind": "variable", "scope": "Visitor", "scopeKind": "class"}, {"_type": "tag", "name": "full_name", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^    full_name = Column(String, nullable=True)$/", "language": "Python", "kind": "variable", "scope": "AdminUser", "scopeKind": "class"}, {"_type": "tag", "name": "hashed_password", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^    hashed_password = Column(String, nullable=False)     # Store hashed password, not plaintext$/", "language": "Python", "kind": "variable", "scope": "AdminUser", "scopeKind": "class"}, {"_type": "tag", "name": "host", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^    host = relationship(\"Host\", back_populates=\"visit_logs\")$/", "language": "Python", "kind": "variable", "scope": "VisitLog", "scopeKind": "class"}, {"_type": "tag", "name": "host_id", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^    host_id = Column(Integer, ForeignKey(\"hosts.id\"), nullable=False)$/", "language": "Python", "kind": "variable", "scope": "VisitLog", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^    id = Column(Integer, primary_key=True, index=True)$/", "language": "Python", "kind": "variable", "scope": "AdminUser", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^    id = Column(Integer, primary_key=True, index=True)$/", "language": "Python", "kind": "variable", "scope": "Host", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^    id = Column(Integer, primary_key=True, index=True)$/", "language": "Python", "kind": "variable", "scope": "VisitLog", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^    id = Column(Integer, primary_key=True, index=True)$/", "language": "Python", "kind": "variable", "scope": "Visitor", "scopeKind": "class"}, {"_type": "tag", "name": "id_number", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^    id_number = Column(String, nullable=True)    # e.g., ID card\\/passport number$/", "language": "Python", "kind": "variable", "scope": "Visitor", "scopeKind": "class"}, {"_type": "tag", "name": "is_active", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^    is_active = Column(Boolean, default=True)$/", "language": "Python", "kind": "variable", "scope": "AdminUser", "scopeKind": "class"}, {"_type": "tag", "name": "phone", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^    phone = Column(String, nullable=True)$/", "language": "Python", "kind": "variable", "scope": "Host", "scopeKind": "class"}, {"_type": "tag", "name": "phone", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^    phone = Column(String, nullable=True)$/", "language": "Python", "kind": "variable", "scope": "Visitor", "scopeKind": "class"}, {"_type": "tag", "name": "purpose", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^    purpose = Column(String, nullable=True)$/", "language": "Python", "kind": "variable", "scope": "VisitLog", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^    status = Column(String, default=\"checked_in\")  # checked_in, checked_out, cancelled, etc.$/", "language": "Python", "kind": "variable", "scope": "VisitLog", "scopeKind": "class"}, {"_type": "tag", "name": "username", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^    username = Column(String, unique=True, index=True, nullable=False)$/", "language": "Python", "kind": "variable", "scope": "AdminUser", "scopeKind": "class"}, {"_type": "tag", "name": "visit_logs", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^    visit_logs = relationship(\"VisitLog\", back_populates=\"host\")$/", "language": "Python", "kind": "variable", "scope": "Host", "scopeKind": "class"}, {"_type": "tag", "name": "visit_logs", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^    visit_logs = relationship(\"VisitLog\", back_populates=\"visitor\")$/", "language": "Python", "kind": "variable", "scope": "Visitor", "scopeKind": "class"}, {"_type": "tag", "name": "visitor", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^    visitor = relationship(\"Visitor\", back_populates=\"visit_logs\")$/", "language": "Python", "kind": "variable", "scope": "VisitLog", "scopeKind": "class"}, {"_type": "tag", "name": "visitor_id", "path": "/home/kavia/workspace/code-generation/visitor-check-in-assistant-100434-100452/visitor_management_backend/src/api/models.py", "pattern": "/^    visitor_id = Column(Integer, ForeignKey(\"visitors.id\"), nullable=False)$/", "language": "Python", "kind": "variable", "scope": "VisitLog", "scopeKind": "class"}], "hash": "e1b18f63fc1c4cffd0ebcced0ab3bc7c", "format-version": 4, "code-base-name": "visitor_management_backend", "filename": "visitor_management_backend/src/api/models.py", "fields": [{"name": "Base = declarative_base()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "__tablename__ = \"admin_users\"", "scope": "AdminUser", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"hosts\"", "scope": "Host", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"visit_logs\"", "scope": "VisitLog", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"visitors\"", "scope": "Visitor", "scopeKind": "class", "description": "unavailable"}, {"name": "check_in_time = Column(DateTime(timezone=True), server_default=func.now())", "scope": "VisitLog", "scopeKind": "class", "description": "unavailable"}, {"name": "check_out_time = Column(DateTime(timezone=True), nullable=True)", "scope": "VisitLog", "scopeKind": "class", "description": "unavailable"}, {"name": "created_at = Column(DateTime(timezone=True), server_default=func.now())", "scope": "AdminUser", "scopeKind": "class", "description": "unavailable"}, {"name": "department = Column(String, nullable=True)", "scope": "Host", "scopeKind": "class", "description": "unavailable"}, {"name": "email = Column(String, nullable=False, unique=True, index=True)", "scope": "Host", "scopeKind": "class", "description": "unavailable"}, {"name": "email = Column(String, nullable=True, index=True)", "scope": "Visitor", "scopeKind": "class", "description": "unavailable"}, {"name": "full_name = Column(String, nullable=False)", "scope": "Host", "scopeKind": "class", "description": "unavailable"}, {"name": "full_name = Column(String, nullable=True)", "scope": "AdminUser", "scopeKind": "class", "description": "unavailable"}, {"name": "hashed_password = Column(String, nullable=False)     # Store hashed password, not plaintext", "scope": "AdminUser", "scopeKind": "class", "description": "unavailable"}, {"name": "host = relationship(\"Host\", back_populates=\"visit_logs\")", "scope": "VisitLog", "scopeKind": "class", "description": "unavailable"}, {"name": "host_id = Column(Integer, ForeignKey(\"hosts.id\"), nullable=False)", "scope": "VisitLog", "scopeKind": "class", "description": "unavailable"}, {"name": "id = Column(Integer, primary_key=True, index=True)", "scope": "AdminUser", "scopeKind": "class", "description": "unavailable"}, {"name": "id_number = Column(String, nullable=True)    # e.g., ID card\\/passport number", "scope": "Visitor", "scopeKind": "class", "description": "unavailable"}, {"name": "is_active = Column(Boolean, default=True)", "scope": "AdminUser", "scopeKind": "class", "description": "unavailable"}, {"name": "phone = Column(String, nullable=True)", "scope": "Host", "scopeKind": "class", "description": "unavailable"}, {"name": "purpose = Column(String, nullable=True)", "scope": "VisitLog", "scopeKind": "class", "description": "unavailable"}, {"name": "status = Column(String, default=\"checked_in\")  # checked_in, checked_out, cancelled, etc.", "scope": "VisitLog", "scopeKind": "class", "description": "unavailable"}, {"name": "username = Column(String, unique=True, index=True, nullable=False)", "scope": "AdminUser", "scopeKind": "class", "description": "unavailable"}, {"name": "visit_logs = relationship(\"VisitLog\", back_populates=\"host\")", "scope": "Host", "scopeKind": "class", "description": "unavailable"}, {"name": "visit_logs = relationship(\"VisitLog\", back_populates=\"visitor\")", "scope": "Visitor", "scopeKind": "class", "description": "unavailable"}, {"name": "visitor = relationship(\"Visitor\", back_populates=\"visit_logs\")", "scope": "VisitLog", "scopeKind": "class", "description": "unavailable"}, {"name": "visitor_id = Column(Integer, ForeignKey(\"visitors.id\"), nullable=False)", "scope": "VisitLog", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"11": ""}]}